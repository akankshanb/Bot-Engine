# MILESTONE: Library BOT

## Index
1. [Installation Steps](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#install) 
2. [Use Cases](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#usecase) 
	* [Use Case 1](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#usecase1)
	* [Use Case 2](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#usecase2)
	* [Use Case 3](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#usecase3)
2. [Mocking](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#mocking)
3. [Bot Implementation](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#implement)
	* [Bot Platform](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#platform)
	* [Bot Integration](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#integration)
4. [Selenium Testing](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#test)
	* [Use Case 1](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#test1)
	* [Use Case 2](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#test2)
	* [Use Case 3](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#test3)
5. [Task Tracking](https://github.ncsu.edu/csc510-fall2019/CSC510-22/blob/master/BOT.md/#track)
6. [Screencast]

## <a name="install"></a> INSTALLATION STEPS:
```
sudo apt-get update
sudo apt-get -y install python3-pip
pip3 install flask
pip3 install mattermostdriver
pip3 install -U PyYAML
```

# PLotBot
* This bot provides users with correct function and libraries from **Seaborn** through sample source code.
* The user can also test the correctness of the plot by visualizing their data input on the plot generated by the bot.
* The types of plots the bot can plot are:
   * Line graph
   * Histogram
   * Scatterplot
   * Box-plot
   * Bar chart with facets

## <a name="usecase"></a> USECASES

Below are **refined** use cases for **PlotBot**

### important!! - please refer to make changes in the end

<a name="usecase1"></a>
```
Use Case 1: Give the user with code snippet for the required type of graph.
1 Preconditions
   User must have mattermost account.
2 Main Flow
  User provides the bot with the type of graph it requires [S1].
  Bot returns the appropriate library packages with a usage [S2].
  Bot asks the user if they need a sample visualization. User responds [S3].
  Bot returns according to the response [S4].
3 Subflows
  [S1] User tells bot the graph type @graph_type. e.g. Histogram
  [S2] Bot returns the entire code snippet.
  [S3] Bot asks for plotting sample code provided. User confirms.
  [S4] Bot returns the sample plot.
4 Alternative Flows
  [E1] Requested graph data not available.
```
<a name="usecase2"></a>
```
Use Case2: Plot the graph for the user with their data.
1 Preconditions
   User must have mattermost account.
   User must give the data in the format required by the bot.
2 Main Flow
   User requests bot to generate a graph of a type for their data [S1].
   Bot will provide a specific data format for the graph to be generated [S2].
   User provides its data in the specified format [S3].
   Bot generates the graph and returns it to the user [S4].
3 Subflows
  [S1] User gives a /plot command with @graph_type.
  [S2] Bot will return a sample data format, e.g. a comma separated list.
  [S3] User provides the data in the requested format.
  [S4] Bot returns the generated graph.
4 Alternative Flows
  [E1] Incorrect data format. Requested data format to be provided
  [E2] Requested graph type not available.
```
<a name="usecase3"></a>
```
Use Case3: Provide user with the ability to view all his plots.
1 Preconditions
   User must have mattermost account.
2 Main Flow
   User requests to provide all his plotted graphs using this bot.
3 Subflows
  [S1] User asks to give all the plotted graphs.
  [S2] Bot will return the file of all user plotted graphs. 
4 Alternative Flows
  [E1] No plots available.
```


### Bot Implementation

#### Bot Platform: 
**AWS instance creation, instance1 mattermost server - Deployable**
**Instance2 for bot**
**Bottoken**

#### Bot Integration: 
**Trigger words corresponding to different tasks**
**Flask Framework**


### Selenium Testing

To support testing of your bot, you will use Selenium to verify that the bot is returning the correct response based on a input message.

[See full example Selenium test for Slack](https://gist.github.com/chrisparnin/e3ee1a96c681f12ae11246cfe3225182)

```java
@Test
public void postMessage()
{
	driver.get("https://csc510-fall16.slack.com/");

   ...

	// Find email and password fields.
	WebElement email = driver.findElement(By.id("email"));
	WebElement pw = driver.findElement(By.id("password"));

   ...
```

Create a selenium test that demonstrates each use case. Demonstrate at least one "happy path" and one "alternative" path for each use case.

### Mocking Service Component

Because the focus on your milestone is platform integration and bot interaction, you will not yet have a working service implementation. Implement mock services and data to support service integration. For example, if you were implementing a meeting bot that helps set up meetings, use mock calendar data to determine available meeting time, rather than integrate with a user's Google calendar. A proper mocking infrastructure would allow you to swap real and testing information in a single place, instead of hard-coded throughout your code base.

**Failure to use appropriate mocking/injection techniques will result in 0 credit**. Do not do this:

```javascript
bot.hears("command", function(){ bot.replys("fake answer");});
```

### Screencast

Create a screencast of your bot performing your three primary use cases. Demonstrate your selenium tests being executed.

## Deliverables

Add your code, and BOT.md document describing the following materials.

* Bot Platform Implementation (20%)
* Use Cases Refinement (10%)
* Mocking infrastructure (30%)
* Selenium testing of each use case (30%)
* Screencast (10%)

**Contribution requirements**: Each team member must make contributions on a milestone (e.g., committing code, being assigned and completing tasks). Failure to perform any work will result in no credit for a team member for the milestone.

**Secrets**: Including secrets (passwords, tokens, etc.) in your source code or checked into repository, will result in significant deductions to your grade.

DUE: Tuesday, October 22, before midnight.
